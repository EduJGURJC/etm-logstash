[2017-05-25T14:31:04,970][INFO ][logstash.setting.writabledirectory] Creating directory {:setting=>"path.queue", :path=>"/home/edujg/programas/logstash-5.4.0/data/queue"}
[2017-05-25T14:31:05,014][INFO ][logstash.agent           ] No persistent UUID file found. Generating new UUID {:uuid=>"972d3b24-5042-404d-b0b6-c0b168653a4b", :path=>"/home/edujg/programas/logstash-5.4.0/data/uuid"}
[2017-05-25T14:31:05,122][INFO ][logstash.agent           ] No config files found in path {:path=>"/home/edujg/programas/logstash-5.4.0/logstash.conf"}
[2017-05-25T14:31:05,124][ERROR][logstash.agent           ] failed to fetch pipeline configuration {:message=>"No config files found: logstash.conf. Can you make sure this path is a logstash config file?"}
[2017-05-25T14:33:21,895][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T14:33:21,939][INFO ][logstash.inputs.log4j    ] Starting Log4j input listener {:address=>"0.0.0.0:3456"}
[2017-05-25T14:33:21,959][INFO ][logstash.inputs.log4j    ] Log4j input
[2017-05-25T14:33:21,961][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T14:33:22,038][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T15:59:04,100][WARN ][logstash.runner          ] SIGINT received. Shutting down the agent.
[2017-05-25T15:59:04,107][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
[2017-05-25T15:59:32,610][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T15:59:32,646][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T15:59:32,651][INFO ][logstash.inputs.gelf     ] Starting gelf listener {:address=>"0.0.0.0:12201"}
[2017-05-25T15:59:32,721][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T16:07:59,481][WARN ][logstash.runner          ] SIGINT received. Shutting down the agent.
[2017-05-25T16:07:59,485][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
[2017-05-25T16:08:12,085][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://127.0.0.1:9200/]}}
[2017-05-25T16:08:12,090][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>http://127.0.0.1:9200/, :path=>"/"}
[2017-05-25T16:08:12,202][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTP:0x4bce3d6a URL:http://127.0.0.1:9200/>}
[2017-05-25T16:08:12,203][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2017-05-25T16:08:12,260][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2017-05-25T16:08:12,280][INFO ][logstash.outputs.elasticsearch] Installing elasticsearch template to _template/logstash
[2017-05-25T16:08:12,540][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x49108062 URL://127.0.0.1>]}
[2017-05-25T16:08:12,543][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T16:08:12,576][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T16:08:12,588][INFO ][logstash.inputs.gelf     ] Starting gelf listener {:address=>"0.0.0.0:12201"}
[2017-05-25T16:08:12,643][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T16:12:10,308][WARN ][logstash.runner          ] SIGINT received. Shutting down the agent.
[2017-05-25T16:12:10,315][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
[2017-05-25T16:12:24,650][ERROR][logstash.agent           ] Cannot create pipeline {:reason=>"bad URI(is not URI?): <elastic-system-ip>:9200"}
[2017-05-25T16:12:53,418][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2017-05-25T16:12:53,426][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>http://localhost:9200/, :path=>"/"}
[2017-05-25T16:12:53,528][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTP:0x4fd000da URL:http://localhost:9200/>}
[2017-05-25T16:12:53,530][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2017-05-25T16:12:53,582][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2017-05-25T16:12:53,589][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x1ed28741 URL://localhost:9200>]}
[2017-05-25T16:12:53,593][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T16:12:53,606][INFO ][logstash.inputs.tcp      ] Starting tcp input listener {:address=>"0.0.0.0:5000"}
[2017-05-25T16:12:53,611][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T16:12:53,691][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T16:37:11,900][WARN ][logstash.runner          ] SIGINT received. Shutting down the agent.
[2017-05-25T16:37:11,904][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
[2017-05-25T16:37:32,184][ERROR][logstash.agent           ] Cannot create pipeline {:reason=>"Expected one of #, input, filter, output at line 14, column 1 (byte 134) after "}
[2017-05-25T16:38:31,177][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2017-05-25T16:38:31,183][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>http://localhost:9200/, :path=>"/"}
[2017-05-25T16:38:31,299][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTP:0x51835bf URL:http://localhost:9200/>}
[2017-05-25T16:38:31,305][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2017-05-25T16:38:31,367][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2017-05-25T16:38:31,378][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0xf9c4224 URL://localhost:9200>]}
[2017-05-25T16:38:31,387][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T16:38:31,414][INFO ][logstash.inputs.tcp      ] Starting tcp input listener {:address=>"0.0.0.0:5000"}
[2017-05-25T16:38:31,426][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T16:38:31,471][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T16:39:51,607][WARN ][logstash.runner          ] SIGINT received. Shutting down the agent.
[2017-05-25T16:39:51,614][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
[2017-05-25T16:40:07,999][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2017-05-25T16:40:08,005][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>http://localhost:9200/, :path=>"/"}
[2017-05-25T16:40:08,125][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTP:0x5b819acd URL:http://localhost:9200/>}
[2017-05-25T16:40:08,129][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2017-05-25T16:40:08,191][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2017-05-25T16:40:08,209][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x668928e1 URL://localhost:9200>]}
[2017-05-25T16:40:08,223][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T16:40:08,254][INFO ][logstash.inputs.tcp      ] Starting tcp input listener {:address=>"0.0.0.0:5000"}
[2017-05-25T16:40:08,268][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T16:40:08,361][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T16:51:59,701][WARN ][logstash.runner          ] SIGINT received. Shutting down the agent.
[2017-05-25T16:51:59,705][WARN ][logstash.agent           ] stopping pipeline {:id=>"main"}
[2017-05-25T16:52:15,382][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2017-05-25T16:52:15,387][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>http://localhost:9200/, :path=>"/"}
[2017-05-25T16:52:15,526][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTP:0x911eb79 URL:http://localhost:9200/>}
[2017-05-25T16:52:15,527][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2017-05-25T16:52:15,591][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2017-05-25T16:52:15,601][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x36e8ecb2 URL://localhost:9200>]}
[2017-05-25T16:52:15,604][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T16:52:15,628][INFO ][logstash.inputs.tcp      ] Starting tcp input listener {:address=>"0.0.0.0:5000"}
[2017-05-25T16:52:15,637][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T16:52:15,707][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T16:52:18,938][ERROR][logstash.pipeline        ] Exception in pipelineworker, the pipeline stopped processing new events, please check your filter configuration and restart Logstash. {"exception"=>"timestamp field is missing", "backtrace"=>["org/logstash/ext/JrubyEventExtLibrary.java:202:in `sprintf'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:19:in `add_fields'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:18:in `add_fields'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:15:in `add_fields'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:184:in `filter_matched'", "/home/edujg/programas/logstash-5.4.0/vendor/bundle/jruby/1.9/gems/logstash-filter-mutate-3.1.3/lib/logstash/filters/mutate.rb:216:in `filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:145:in `do_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:164:in `multi_filter'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:161:in `multi_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filter_delegator.rb:43:in `multi_filter'", "(eval):42:in `filter_func'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:370:in `filter_batch'", "org/jruby/RubyProc.java:281:in `call'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:224:in `each'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:223:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:369:in `filter_batch'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:350:in `worker_loop'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:317:in `start_workers'"]}
[2017-05-25T16:52:19,070][FATAL][logstash.runner          ] An unexpected error occurred! {:error=>#<LogStash::Error: timestamp field is missing>, :backtrace=>["org/logstash/ext/JrubyEventExtLibrary.java:202:in `sprintf'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:19:in `add_fields'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:18:in `add_fields'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:15:in `add_fields'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:184:in `filter_matched'", "/home/edujg/programas/logstash-5.4.0/vendor/bundle/jruby/1.9/gems/logstash-filter-mutate-3.1.3/lib/logstash/filters/mutate.rb:216:in `filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:145:in `do_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:164:in `multi_filter'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:161:in `multi_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filter_delegator.rb:43:in `multi_filter'", "(eval):42:in `filter_func'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:370:in `filter_batch'", "org/jruby/RubyProc.java:281:in `call'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:224:in `each'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:223:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:369:in `filter_batch'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:350:in `worker_loop'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:317:in `start_workers'"]}
[2017-05-25T16:52:57,296][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2017-05-25T16:52:57,306][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>http://localhost:9200/, :path=>"/"}
[2017-05-25T16:52:57,527][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTP:0x1ea14424 URL:http://localhost:9200/>}
[2017-05-25T16:52:57,530][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2017-05-25T16:52:57,591][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2017-05-25T16:52:57,596][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x4f1ef367 URL://localhost:9200>]}
[2017-05-25T16:52:57,599][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T16:52:57,627][INFO ][logstash.inputs.tcp      ] Starting tcp input listener {:address=>"0.0.0.0:5000"}
[2017-05-25T16:52:57,631][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T16:52:57,682][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T16:53:08,821][ERROR][logstash.pipeline        ] Exception in pipelineworker, the pipeline stopped processing new events, please check your filter configuration and restart Logstash. {"exception"=>"timestamp field is missing", "backtrace"=>["org/logstash/ext/JrubyEventExtLibrary.java:202:in `sprintf'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:19:in `add_fields'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:18:in `add_fields'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:15:in `add_fields'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:184:in `filter_matched'", "/home/edujg/programas/logstash-5.4.0/vendor/bundle/jruby/1.9/gems/logstash-filter-mutate-3.1.3/lib/logstash/filters/mutate.rb:216:in `filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:145:in `do_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:164:in `multi_filter'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:161:in `multi_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filter_delegator.rb:43:in `multi_filter'", "(eval):42:in `filter_func'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:370:in `filter_batch'", "org/jruby/RubyProc.java:281:in `call'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:224:in `each'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:223:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:369:in `filter_batch'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:350:in `worker_loop'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:317:in `start_workers'"]}
[2017-05-25T16:53:08,968][FATAL][logstash.runner          ] An unexpected error occurred! {:error=>#<LogStash::Error: timestamp field is missing>, :backtrace=>["org/logstash/ext/JrubyEventExtLibrary.java:202:in `sprintf'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:19:in `add_fields'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:18:in `add_fields'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:15:in `add_fields'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:184:in `filter_matched'", "/home/edujg/programas/logstash-5.4.0/vendor/bundle/jruby/1.9/gems/logstash-filter-mutate-3.1.3/lib/logstash/filters/mutate.rb:216:in `filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:145:in `do_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:164:in `multi_filter'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:161:in `multi_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filter_delegator.rb:43:in `multi_filter'", "(eval):42:in `filter_func'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:370:in `filter_batch'", "org/jruby/RubyProc.java:281:in `call'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:224:in `each'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:223:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:369:in `filter_batch'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:350:in `worker_loop'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:317:in `start_workers'"]}
[2017-05-25T16:54:05,186][INFO ][logstash.outputs.elasticsearch] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2017-05-25T16:54:05,189][INFO ][logstash.outputs.elasticsearch] Running health check to see if an Elasticsearch connection is working {:healthcheck_url=>http://localhost:9200/, :path=>"/"}
[2017-05-25T16:54:05,282][WARN ][logstash.outputs.elasticsearch] Restored connection to ES instance {:url=>#<URI::HTTP:0x6cb7c32 URL:http://localhost:9200/>}
[2017-05-25T16:54:05,283][INFO ][logstash.outputs.elasticsearch] Using mapping template from {:path=>nil}
[2017-05-25T16:54:05,352][INFO ][logstash.outputs.elasticsearch] Attempting to install template {:manage_template=>{"template"=>"logstash-*", "version"=>50001, "settings"=>{"index.refresh_interval"=>"5s"}, "mappings"=>{"_default_"=>{"_all"=>{"enabled"=>true, "norms"=>false}, "dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword"}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date", "include_in_all"=>false}, "@version"=>{"type"=>"keyword", "include_in_all"=>false}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}}
[2017-05-25T16:54:05,359][INFO ][logstash.outputs.elasticsearch] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>[#<URI::Generic:0x2a3042aa URL://localhost:9200>]}
[2017-05-25T16:54:05,361][INFO ][logstash.pipeline        ] Starting pipeline {"id"=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>5, "pipeline.max_inflight"=>500}
[2017-05-25T16:54:05,369][INFO ][logstash.inputs.tcp      ] Starting tcp input listener {:address=>"0.0.0.0:5000"}
[2017-05-25T16:54:05,376][INFO ][logstash.pipeline        ] Pipeline main started
[2017-05-25T16:54:05,414][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2017-05-25T16:54:10,001][ERROR][logstash.pipeline        ] Exception in pipelineworker, the pipeline stopped processing new events, please check your filter configuration and restart Logstash. {"exception"=>"timestamp field is missing", "backtrace"=>["org/logstash/ext/JrubyEventExtLibrary.java:202:in `sprintf'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:19:in `add_fields'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:18:in `add_fields'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:15:in `add_fields'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:184:in `filter_matched'", "/home/edujg/programas/logstash-5.4.0/vendor/bundle/jruby/1.9/gems/logstash-filter-mutate-3.1.3/lib/logstash/filters/mutate.rb:216:in `filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:145:in `do_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:164:in `multi_filter'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:161:in `multi_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filter_delegator.rb:43:in `multi_filter'", "(eval):42:in `filter_func'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:370:in `filter_batch'", "org/jruby/RubyProc.java:281:in `call'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:224:in `each'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:223:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:369:in `filter_batch'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:350:in `worker_loop'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:317:in `start_workers'"]}
[2017-05-25T16:54:10,150][FATAL][logstash.runner          ] An unexpected error occurred! {:error=>#<LogStash::Error: timestamp field is missing>, :backtrace=>["org/logstash/ext/JrubyEventExtLibrary.java:202:in `sprintf'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:19:in `add_fields'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:18:in `add_fields'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/decorators.rb:15:in `add_fields'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:184:in `filter_matched'", "/home/edujg/programas/logstash-5.4.0/vendor/bundle/jruby/1.9/gems/logstash-filter-mutate-3.1.3/lib/logstash/filters/mutate.rb:216:in `filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:145:in `do_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:164:in `multi_filter'", "org/jruby/RubyArray.java:1613:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filters/base.rb:161:in `multi_filter'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/filter_delegator.rb:43:in `multi_filter'", "(eval):42:in `filter_func'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:370:in `filter_batch'", "org/jruby/RubyProc.java:281:in `call'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:224:in `each'", "org/jruby/RubyHash.java:1342:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/util/wrapped_synchronous_queue.rb:223:in `each'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:369:in `filter_batch'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:350:in `worker_loop'", "/home/edujg/programas/logstash-5.4.0/logstash-core/lib/logstash/pipeline.rb:317:in `start_workers'"]}
